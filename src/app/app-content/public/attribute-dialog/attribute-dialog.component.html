<mat-dialog>
<h1 mat-dialog-title>Attributes</h1>
<div mat-dialog-content>
  <div *ngFor="let attr of attributes">
    <mat-form-field appearance="fill">
      <mat-label>{{ attr.name }}</mat-label>
      <mat-select
        multiple
        [(ngModel)]="selectedAttributes[attr.idAttribute]"
        (ngModelChange)="onValueChange($event, attr.idAttribute)"
      >
        <mat-option
          *ngFor="let value of attributeValuesMap.get(attr.idAttribute) || []"
          [value]="value.value"
        >
          {{ value.value }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
</div>
<div mat-dialog-actions class="mat-dialog-actions">
  <button mat-button (click)="onCancel()">Cancel</button>
  <button mat-button (click)="saveAttributes()">OK</button>
</div>
</mat-dialog>